{% from "components/_partials/ctas/ctas.njk" import ctas %}
{% from "components/_partials/text/text.njk" import text %}
{% from "components/_partials/icon/icon.njk" import icon %}
{% from "components/_partials/image/image.njk" import image %}


<div class="container content">
  {% if section.text | hasText %}
    <div class="blurbs-header">
      {{ text(section.text) }}
    </div>
  {% endif %}

  {# get the blurbs from the section.blurbs.source if defined #}
  {% if section.blurbs.source %}
    {% set blurbs = data.blurbs[section.blurbs.source] %}
  {% else %}
    <p>No Blurbs found</p>
  {% endif %}

  {% if blurbs %}
    <ul class="blurb-list {% if section.blurbs.layout %}is-{{ section.blurbs.layout }}{% endif %} {% if section.isReverse %}is-reverse{% endif %}">
      {% for blurb in blurbs %}
        <li class="blurb flow">
          {% if blurb.decoration %}
            <div class="decoration">
              {% if blurb.decoration | hasImage %}
                {{ image(blurb.decoration) }}
              {% endif %}
              {% if blurb.decoration | hasIcon %}
                {{ icon(blurb.decoration) }}
              {% endif %}
            </div>
          {% endif %}
          {% if blurb.text | hasText %}
            <div class="info">
              {{ text(blurb.text) }}
            </div>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% endif %}
</div>