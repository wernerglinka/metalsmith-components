{% from "components/_partials/card/card.njk" import card %}
{% from "components/_partials/blog-pagination/blog-pagination.njk" import blogPagination %}

<div class="container cards content">
  {% set params = section.pagingParams %}
  {% if params.numberOfPages > 1 %}
    {{ blogPagination(params.numberOfPages, params.pageNumber, 'library') }}
    {% set startPage = params.pageStart %}
    {% set endPage = startPage + params.pageLength %}
  {% else %}
    {% set startPage = 0 %}
    {% set endPage = collections.blog.length %}
  {% endif %}


  <ul class="cards-list">
    {% for component in collections.components %}
      {% if loop.index > startPage and loop.index <= endPage %}
        {% set thisCard = {
          title: component.card.title,
          prose: component.card.description,
          thumbnail: component.card.image,
          link: "/" ~ component.permalink
        } %}
        <li class="simple-card">
          {{ card(thisCard) }}
        </li>
      {% endif %}
    {% endfor %}
  </ul>

  {% if params.numberOfPages > 1 %}
    {{ blogPagination(params.numberOfPages, params.pageNumber, 'library') }}
  {% endif %}


</div>